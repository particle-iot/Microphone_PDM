<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Microphone_PDM: Microphone_PDM_nRF52 Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Microphone_PDM
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="#pro-methods">Protected Member Functions</a>  </div>
  <div class="headertitle"><div class="title">Microphone_PDM_nRF52 Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="_microphone___p_d_m__n_r_f52_8h_source.html">Microphone_PDM_nRF52.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for Microphone_PDM_nRF52:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_microphone___p_d_m__n_r_f52.png" usemap="#Microphone_5FPDM_5FnRF52_map" alt=""/>
  <map id="Microphone_5FPDM_5FnRF52_map" name="Microphone_5FPDM_5FnRF52_map">
<area href="class_microphone___p_d_m___base.html" title="Class used for settings. You will not instantiate one of these; it&#39;s a base class of Microphone_PDM_M..." alt="Microphone_PDM_Base" shape="rect" coords="0,0,159,24"/>
<area href="class_microphone___p_d_m___m_c_u.html" title="Microphone_PDM_MCU is an alias for the MCU-specific class like Microphone_PDM_nRF52." alt="Microphone_PDM_MCU" shape="rect" coords="0,112,159,136"/>
<area href="class_microphone___p_d_m.html" title="Class for using the hardware PDM (pulse-density modulation) audio decoder on RTL872x and nRF52 device..." alt="Microphone_PDM" shape="rect" coords="0,168,159,192"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-attribs" name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:a49bcc248f18f483fd0dcac40bd70445c"><td class="memItemLeft" align="right" valign="top"><a id="a49bcc248f18f483fd0dcac40bd70445c" name="a49bcc248f18f483fd0dcac40bd70445c"></a>
static const size_t&#160;</td><td class="memItemRight" valign="bottom"><b>BUFFER_SIZE_SAMPLES</b> = 512</td></tr>
<tr class="separator:a49bcc248f18f483fd0dcac40bd70445c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe4a8e470e6b238fe25131a32bf37580"><td class="memItemLeft" align="right" valign="top"><a id="abe4a8e470e6b238fe25131a32bf37580" name="abe4a8e470e6b238fe25131a32bf37580"></a>
static const size_t&#160;</td><td class="memItemRight" valign="bottom"><b>NUM_BUFFERS</b> = 2</td></tr>
<tr class="separator:abe4a8e470e6b238fe25131a32bf37580"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-methods" name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a0cdd0fc7f2285f98674638d63a6bd197"><td class="memItemLeft" align="right" valign="top"><a id="a0cdd0fc7f2285f98674638d63a6bd197" name="a0cdd0fc7f2285f98674638d63a6bd197"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>Microphone_PDM_nRF52</b> ()</td></tr>
<tr class="separator:a0cdd0fc7f2285f98674638d63a6bd197"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6a81bba27915b761784ce739774e558"><td class="memItemLeft" align="right" valign="top"><a id="ad6a81bba27915b761784ce739774e558" name="ad6a81bba27915b761784ce739774e558"></a>
virtual&#160;</td><td class="memItemRight" valign="bottom"><b>~Microphone_PDM_nRF52</b> ()</td></tr>
<tr class="separator:ad6a81bba27915b761784ce739774e558"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a607d49dcbf1647b5525385551120864a"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_microphone___p_d_m__n_r_f52.html#a607d49dcbf1647b5525385551120864a">init</a> ()</td></tr>
<tr class="separator:a607d49dcbf1647b5525385551120864a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0729a88247b80934208e3d6c8692c7e2"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_microphone___p_d_m__n_r_f52.html#a0729a88247b80934208e3d6c8692c7e2">uninit</a> ()</td></tr>
<tr class="separator:a0729a88247b80934208e3d6c8692c7e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a4c22886f96ea0c80681efa156c0507"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_microphone___p_d_m__n_r_f52.html#a8a4c22886f96ea0c80681efa156c0507">start</a> ()</td></tr>
<tr class="separator:a8a4c22886f96ea0c80681efa156c0507"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b92a83716cfdd0bdef848cbcbcbfb8e"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_microphone___p_d_m__n_r_f52.html#a8b92a83716cfdd0bdef848cbcbcbfb8e">stop</a> ()</td></tr>
<tr class="separator:a8b92a83716cfdd0bdef848cbcbcbfb8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1bd4c6b16b31b3d14dfa94facc7c8cab"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_microphone___p_d_m__n_r_f52.html#a1bd4c6b16b31b3d14dfa94facc7c8cab">samplesAvailable</a> () const</td></tr>
<tr class="separator:a1bd4c6b16b31b3d14dfa94facc7c8cab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74f95823a7adeb5ff09dfc06953cc434"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_microphone___p_d_m__n_r_f52.html#a74f95823a7adeb5ff09dfc06953cc434">copySamples</a> (void *pSamples)</td></tr>
<tr class="separator:a74f95823a7adeb5ff09dfc06953cc434"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5577758c19ecc8e86efe6150da30ca4b"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_microphone___p_d_m__n_r_f52.html#a5577758c19ecc8e86efe6150da30ca4b">noCopySamples</a> (std::function&lt; void(void *pSamples, size_t <a class="el" href="class_microphone___p_d_m___base.html#ab60689dd81647a72bc69d0209e951883">numSamples</a>)&gt;callback)</td></tr>
<tr class="separator:a5577758c19ecc8e86efe6150da30ca4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6cc2e49411a13d4f5172e40d354f33af"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_microphone___p_d_m__n_r_f52.html#a6cc2e49411a13d4f5172e40d354f33af">getNumberOfSamples</a> () const</td></tr>
<tr class="separator:a6cc2e49411a13d4f5172e40d354f33af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8adf80539e6e762188547924f1e9f31d"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_microphone___p_d_m__n_r_f52.html#a8adf80539e6e762188547924f1e9f31d">copySrcIncrement</a> () const</td></tr>
<tr class="separator:a8adf80539e6e762188547924f1e9f31d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_methods_class_microphone___p_d_m___base"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_class_microphone___p_d_m___base')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="class_microphone___p_d_m___base.html">Microphone_PDM_Base</a></td></tr>
<tr class="memitem:a67550b70326be6f46697c6e6b996c80b inherit pro_methods_class_microphone___p_d_m___base"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_microphone___p_d_m___base.html#a67550b70326be6f46697c6e6b996c80b">Microphone_PDM_Base</a> (size_t <a class="el" href="class_microphone___p_d_m___base.html#ab60689dd81647a72bc69d0209e951883">numSamples</a>)</td></tr>
<tr class="separator:a67550b70326be6f46697c6e6b996c80b inherit pro_methods_class_microphone___p_d_m___base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3e36681cacf8ce31768b6927768057f inherit pro_methods_class_microphone___p_d_m___base"><td class="memItemLeft" align="right" valign="top"><a id="ab3e36681cacf8ce31768b6927768057f" name="ab3e36681cacf8ce31768b6927768057f"></a>
virtual&#160;</td><td class="memItemRight" valign="bottom"><b>~Microphone_PDM_Base</b> ()</td></tr>
<tr class="separator:ab3e36681cacf8ce31768b6927768057f inherit pro_methods_class_microphone___p_d_m___base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad5d7f2f8c2e2fc37cb38f404a4195bf inherit pro_methods_class_microphone___p_d_m___base"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_microphone___p_d_m___base.html#aad5d7f2f8c2e2fc37cb38f404a4195bf">copySamplesInternal</a> (const int16_t *src, uint8_t *dst) const</td></tr>
<tr class="separator:aad5d7f2f8c2e2fc37cb38f404a4195bf inherit pro_methods_class_microphone___p_d_m___base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4603a3b76352446c25f571481ec75edb inherit pro_methods_class_microphone___p_d_m___base"><td class="memItemLeft" align="right" valign="top">virtual size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_microphone___p_d_m___base.html#a4603a3b76352446c25f571481ec75edb">copySrcIncrement</a> () const</td></tr>
<tr class="separator:a4603a3b76352446c25f571481ec75edb inherit pro_methods_class_microphone___p_d_m___base"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="inherited" name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_types_class_microphone___p_d_m___base"><td colspan="2" onclick="javascript:toggleInherit('pub_types_class_microphone___p_d_m___base')"><img src="closed.png" alt="-"/>&#160;Public Types inherited from <a class="el" href="class_microphone___p_d_m___base.html">Microphone_PDM_Base</a></td></tr>
<tr class="memitem:a486adb398afa4f7d58d64fac361e75b3 inherit pub_types_class_microphone___p_d_m___base"><td class="memItemLeft" align="right" valign="top">enum class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_microphone___p_d_m___base.html#a486adb398afa4f7d58d64fac361e75b3">OutputSize</a> { <a class="el" href="class_microphone___p_d_m___base.html#a486adb398afa4f7d58d64fac361e75b3a9c0a9694c8d3bba0f29a671287474e92">UNSIGNED_8</a>
, <a class="el" href="class_microphone___p_d_m___base.html#a486adb398afa4f7d58d64fac361e75b3a0967f1f9733a9ea490013af05f03e1cf">SIGNED_16</a>
, <a class="el" href="class_microphone___p_d_m___base.html#a486adb398afa4f7d58d64fac361e75b3abb6351d9fc97ae2b2f76964244dc1cb2">RAW_SIGNED_16</a>
 }</td></tr>
<tr class="separator:a486adb398afa4f7d58d64fac361e75b3 inherit pub_types_class_microphone___p_d_m___base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7820f0df8f3a4bb09bd6d19874848d56 inherit pub_types_class_microphone___p_d_m___base"><td class="memItemLeft" align="right" valign="top">enum class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_microphone___p_d_m___base.html#a7820f0df8f3a4bb09bd6d19874848d56">Range</a> { <br />
&#160;&#160;<a class="el" href="class_microphone___p_d_m___base.html#a7820f0df8f3a4bb09bd6d19874848d56af9dab2fdacd15340d19c0eddfc7bd0e0">RANGE_128</a> = 0
, <a class="el" href="class_microphone___p_d_m___base.html#a7820f0df8f3a4bb09bd6d19874848d56a5b5f2f0d2401c3947bd8fd592046a18b">RANGE_256</a>
, <a class="el" href="class_microphone___p_d_m___base.html#a7820f0df8f3a4bb09bd6d19874848d56a59933b51b2d567497777e2fae426210a">RANGE_512</a>
, <a class="el" href="class_microphone___p_d_m___base.html#a7820f0df8f3a4bb09bd6d19874848d56a40ab4bb56cae55bc6155190717f1c86d">RANGE_1024</a>
, <br />
&#160;&#160;<a class="el" href="class_microphone___p_d_m___base.html#a7820f0df8f3a4bb09bd6d19874848d56a3bc5fd05092431ab06a7453660490de0">RANGE_2048</a>
, <a class="el" href="class_microphone___p_d_m___base.html#a7820f0df8f3a4bb09bd6d19874848d56ad577bb0a2f6970c442e27b462e639a17">RANGE_4096</a>
, <a class="el" href="class_microphone___p_d_m___base.html#a7820f0df8f3a4bb09bd6d19874848d56a4fc5f67b47f09d3dc6e5c2678fc50429">RANGE_8192</a>
, <a class="el" href="class_microphone___p_d_m___base.html#a7820f0df8f3a4bb09bd6d19874848d56a31c1d85eecd372e41b20f3d0de873650">RANGE_16384</a>
, <br />
&#160;&#160;<a class="el" href="class_microphone___p_d_m___base.html#a7820f0df8f3a4bb09bd6d19874848d56a1c7f335b29f548a407c97ad15280e021">RANGE_32768</a>
<br />
 }</td></tr>
<tr class="separator:a7820f0df8f3a4bb09bd6d19874848d56 inherit pub_types_class_microphone___p_d_m___base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_class_microphone___p_d_m___base"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_class_microphone___p_d_m___base')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="class_microphone___p_d_m___base.html">Microphone_PDM_Base</a></td></tr>
<tr class="memitem:a2340fbc35b932c8041cb9bf661544ca4 inherit pub_methods_class_microphone___p_d_m___base"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_microphone___p_d_m___base.html#a2340fbc35b932c8041cb9bf661544ca4">getSampleRate</a> () const</td></tr>
<tr class="separator:a2340fbc35b932c8041cb9bf661544ca4 inherit pub_methods_class_microphone___p_d_m___base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_attribs_class_microphone___p_d_m___base"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_class_microphone___p_d_m___base')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="class_microphone___p_d_m___base.html">Microphone_PDM_Base</a></td></tr>
<tr class="memitem:ad1b1982d02070201b0894bbd35ed2500 inherit pro_attribs_class_microphone___p_d_m___base"><td class="memItemLeft" align="right" valign="top"><a id="ad1b1982d02070201b0894bbd35ed2500" name="ad1b1982d02070201b0894bbd35ed2500"></a>
pin_t&#160;</td><td class="memItemRight" valign="bottom"><b>clkPin</b> = A0</td></tr>
<tr class="separator:ad1b1982d02070201b0894bbd35ed2500 inherit pro_attribs_class_microphone___p_d_m___base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2863d5149cf7de767600ef62fdc6809 inherit pro_attribs_class_microphone___p_d_m___base"><td class="memItemLeft" align="right" valign="top"><a id="ad2863d5149cf7de767600ef62fdc6809" name="ad2863d5149cf7de767600ef62fdc6809"></a>
pin_t&#160;</td><td class="memItemRight" valign="bottom"><b>datPin</b> = A1</td></tr>
<tr class="separator:ad2863d5149cf7de767600ef62fdc6809 inherit pro_attribs_class_microphone___p_d_m___base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e198278fe10da16fbe81523df52d1c9 inherit pro_attribs_class_microphone___p_d_m___base"><td class="memItemLeft" align="right" valign="top"><a id="a8e198278fe10da16fbe81523df52d1c9" name="a8e198278fe10da16fbe81523df52d1c9"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>stereoMode</b> = false</td></tr>
<tr class="separator:a8e198278fe10da16fbe81523df52d1c9 inherit pro_attribs_class_microphone___p_d_m___base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7952d4b0bd76b309cbce53f0b606ff6a inherit pro_attribs_class_microphone___p_d_m___base"><td class="memItemLeft" align="right" valign="top"><a id="a7952d4b0bd76b309cbce53f0b606ff6a" name="a7952d4b0bd76b309cbce53f0b606ff6a"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>sampleRate</b></td></tr>
<tr class="separator:a7952d4b0bd76b309cbce53f0b606ff6a inherit pro_attribs_class_microphone___p_d_m___base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b8d9df72eda515bbd3ac5243e9981c4 inherit pro_attribs_class_microphone___p_d_m___base"><td class="memItemLeft" align="right" valign="top"><a id="a4b8d9df72eda515bbd3ac5243e9981c4" name="a4b8d9df72eda515bbd3ac5243e9981c4"></a>
<a class="el" href="class_microphone___p_d_m___base.html#a486adb398afa4f7d58d64fac361e75b3">OutputSize</a>&#160;</td><td class="memItemRight" valign="bottom"><b>outputSize</b> = <a class="el" href="class_microphone___p_d_m___base.html#a486adb398afa4f7d58d64fac361e75b3a0967f1f9733a9ea490013af05f03e1cf">OutputSize::SIGNED_16</a></td></tr>
<tr class="separator:a4b8d9df72eda515bbd3ac5243e9981c4 inherit pro_attribs_class_microphone___p_d_m___base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a036c508777f47e8b1aeaf3e911a71c63 inherit pro_attribs_class_microphone___p_d_m___base"><td class="memItemLeft" align="right" valign="top"><a id="a036c508777f47e8b1aeaf3e911a71c63" name="a036c508777f47e8b1aeaf3e911a71c63"></a>
<a class="el" href="class_microphone___p_d_m___base.html#a7820f0df8f3a4bb09bd6d19874848d56">Range</a>&#160;</td><td class="memItemRight" valign="bottom"><b>range</b> = <a class="el" href="class_microphone___p_d_m___base.html#a7820f0df8f3a4bb09bd6d19874848d56a3bc5fd05092431ab06a7453660490de0">Range::RANGE_2048</a></td></tr>
<tr class="separator:a036c508777f47e8b1aeaf3e911a71c63 inherit pro_attribs_class_microphone___p_d_m___base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab60689dd81647a72bc69d0209e951883 inherit pro_attribs_class_microphone___p_d_m___base"><td class="memItemLeft" align="right" valign="top"><a id="ab60689dd81647a72bc69d0209e951883" name="ab60689dd81647a72bc69d0209e951883"></a>
size_t&#160;</td><td class="memItemRight" valign="bottom"><b>numSamples</b></td></tr>
<tr class="separator:ab60689dd81647a72bc69d0209e951883 inherit pro_attribs_class_microphone___p_d_m___base"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>MCU-specific implementation of PDM for the nRF52. </p>
<p>This class is used on the Boron, B Series SoM, Tracker, and Argon.</p>
<p>You do not instantiate this class directly; it's automatically created when you use the <a class="el" href="class_microphone___p_d_m.html" title="Class for using the hardware PDM (pulse-density modulation) audio decoder on RTL872x and nRF52 device...">Microphone_PDM</a> singleton. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a74f95823a7adeb5ff09dfc06953cc434" name="a74f95823a7adeb5ff09dfc06953cc434"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a74f95823a7adeb5ff09dfc06953cc434">&#9670;&#160;</a></span>copySamples()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool Microphone_PDM_nRF52::copySamples </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>pSamples</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Copy samples from the DMA buffer to your buffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pSamples</td><td>Pointer to buffer to copy samples to. It must be at least <a class="el" href="class_microphone___p_d_m__n_r_f52.html#a6cc2e49411a13d4f5172e40d354f33af" title="Return the number of int16_t samples that copySamples will copy.">getNumberOfSamples()</a> samples in length.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true There were samples available and they were copied. </dd>
<dd>
false There were no samples available. Your buffer is unmodified.</dd></dl>
<p>The size of the buffer in bytes will depend on the outputSize. If UNSIGNED_8, then it's <a class="el" href="class_microphone___p_d_m__n_r_f52.html#a6cc2e49411a13d4f5172e40d354f33af" title="Return the number of int16_t samples that copySamples will copy.">getNumberOfSamples()</a> bytes. If SIGNED_16 or RAW_SIGNED_16, then it's 2 * <a class="el" href="class_microphone___p_d_m__n_r_f52.html#a6cc2e49411a13d4f5172e40d354f33af" title="Return the number of int16_t samples that copySamples will copy.">getNumberOfSamples()</a>.</p>
<p>You can skip calling <a class="el" href="class_microphone___p_d_m__n_r_f52.html#a1bd4c6b16b31b3d14dfa94facc7c8cab" title="Return true if there is data available to be copied using copySamples.">samplesAvailable()</a> and just call copySamples which will return false in the same cases where <a class="el" href="class_microphone___p_d_m__n_r_f52.html#a1bd4c6b16b31b3d14dfa94facc7c8cab" title="Return true if there is data available to be copied using copySamples.">samplesAvailable()</a> would have returned false. </p>

<p>Reimplemented in <a class="el" href="class_microphone___p_d_m.html#ad28699d53cfe8fad28526f015202d7ff">Microphone_PDM</a>.</p>

</div>
</div>
<a id="a8adf80539e6e762188547924f1e9f31d" name="a8adf80539e6e762188547924f1e9f31d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8adf80539e6e762188547924f1e9f31d">&#9670;&#160;</a></span>copySrcIncrement()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t Microphone_PDM_nRF52::copySrcIncrement </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>How much to increment src in copySamplesInternal. Used internally. </p>
<dl class="section return"><dt>Returns</dt><dd>size_t number of bytes</dd></dl>
<p>This is almost always 1. The exception is if you are using 8000 Hz sampling on the nRF52. In this case, every other sample is skipped and the subclass overrides this to return 2.</p>
<p>Override of virtual method in base class <a class="el" href="class_microphone___p_d_m___base.html" title="Class used for settings. You will not instantiate one of these; it&#39;s a base class of Microphone_PDM_M...">Microphone_PDM_Base</a> </p>

<p>Reimplemented from <a class="el" href="class_microphone___p_d_m___base.html#a4603a3b76352446c25f571481ec75edb">Microphone_PDM_Base</a>.</p>

</div>
</div>
<a id="a6cc2e49411a13d4f5172e40d354f33af" name="a6cc2e49411a13d4f5172e40d354f33af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6cc2e49411a13d4f5172e40d354f33af">&#9670;&#160;</a></span>getNumberOfSamples()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t Microphone_PDM_nRF52::getNumberOfSamples </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return the number of int16_t samples that copySamples will copy. </p>
<dl class="section return"><dt>Returns</dt><dd>size_t Number of uint16_t samples. Number of bytes is twice that value</dd></dl>
<p>You will never get a partial buffer of data. The number of samples is a constant that is determined by the MCU type at compile time and does not change.</p>
<p>On the nRF52, it's 512 samples (1024 bytes), except in one case: If you set a sample rate of 8000 Hz, it will be 256 samples because the hardware only samples at 16000 Hz but the code will automatically discard every other sample so there will only be 256 samples. </p>

</div>
</div>
<a id="a607d49dcbf1647b5525385551120864a" name="a607d49dcbf1647b5525385551120864a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a607d49dcbf1647b5525385551120864a">&#9670;&#160;</a></span>init()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual int Microphone_PDM_nRF52::init </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initialize the PDM module. </p>
<p>This is often done from setup(). You can defer it until you're ready to sample if desired, calling right before <a class="el" href="class_microphone___p_d_m__n_r_f52.html#a8a4c22886f96ea0c80681efa156c0507" title="Start sampling.">start()</a>. </p>

<p>Reimplemented in <a class="el" href="class_microphone___p_d_m.html#adf276d294814a5619b28b72e526277f7">Microphone_PDM</a>.</p>

</div>
</div>
<a id="a5577758c19ecc8e86efe6150da30ca4b" name="a5577758c19ecc8e86efe6150da30ca4b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5577758c19ecc8e86efe6150da30ca4b">&#9670;&#160;</a></span>noCopySamples()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool Microphone_PDM_nRF52::noCopySamples </td>
          <td>(</td>
          <td class="paramtype">std::function&lt; void(void *pSamples, size_t <a class="el" href="class_microphone___p_d_m___base.html#ab60689dd81647a72bc69d0209e951883">numSamples</a>)&gt;&#160;</td>
          <td class="paramname"><em>callback</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Alternative API to get samples. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">callback</td><td>Callback function or lambda</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true </dd>
<dd>
false</dd></dl>
<p>Alternative API that does not require a buffer to be passed in. You should only use this if you can consume the buffer immediately without blocking.</p>
<p>The callback function or lamba has this prototype:</p>
<p>void callback(void *pSamples, size_t numSamples)</p>
<p>It will be called with a pointer to the samples (in the DMA buffer) and the number of samples (not bytes!) of data. The number of bytes will vary depending on the outputSize.</p>
<p>You can skip calling <a class="el" href="class_microphone___p_d_m__n_r_f52.html#a1bd4c6b16b31b3d14dfa94facc7c8cab" title="Return true if there is data available to be copied using copySamples.">samplesAvailable()</a> and just call noCopySamples which will return false in the same cases where <a class="el" href="class_microphone___p_d_m__n_r_f52.html#a1bd4c6b16b31b3d14dfa94facc7c8cab" title="Return true if there is data available to be copied using copySamples.">samplesAvailable()</a> would have returned false. </p>

<p>Reimplemented in <a class="el" href="class_microphone___p_d_m.html#a1cf35acb9dfb31946a8a02213e4463b6">Microphone_PDM</a>.</p>

</div>
</div>
<a id="a1bd4c6b16b31b3d14dfa94facc7c8cab" name="a1bd4c6b16b31b3d14dfa94facc7c8cab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1bd4c6b16b31b3d14dfa94facc7c8cab">&#9670;&#160;</a></span>samplesAvailable()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool Microphone_PDM_nRF52::samplesAvailable </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return true if there is data available to be copied using copySamples. </p>
<dl class="section return"><dt>Returns</dt><dd>true </dd>
<dd>
false </dd></dl>

<p>Reimplemented in <a class="el" href="class_microphone___p_d_m.html#a2d0164f5c641fcad787320e0f308c4f3">Microphone_PDM</a>.</p>

</div>
</div>
<a id="a8a4c22886f96ea0c80681efa156c0507" name="a8a4c22886f96ea0c80681efa156c0507"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a4c22886f96ea0c80681efa156c0507">&#9670;&#160;</a></span>start()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual int Microphone_PDM_nRF52::start </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Start sampling. </p>

<p>Reimplemented in <a class="el" href="class_microphone___p_d_m.html#a6f4cca213ff55b01b4a73f196154dfd7">Microphone_PDM</a>.</p>

</div>
</div>
<a id="a8b92a83716cfdd0bdef848cbcbcbfb8e" name="a8b92a83716cfdd0bdef848cbcbcbfb8e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b92a83716cfdd0bdef848cbcbcbfb8e">&#9670;&#160;</a></span>stop()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual int Microphone_PDM_nRF52::stop </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Stop sampling. </p>

<p>Reimplemented in <a class="el" href="class_microphone___p_d_m.html#a0e1d3318edf018b7e98ce91da3569f69">Microphone_PDM</a>.</p>

</div>
</div>
<a id="a0729a88247b80934208e3d6c8692c7e2" name="a0729a88247b80934208e3d6c8692c7e2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0729a88247b80934208e3d6c8692c7e2">&#9670;&#160;</a></span>uninit()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual int Microphone_PDM_nRF52::uninit </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Uninitialize the PDM module. </p>
<p>You normally will just initialize it once and only start and stop it as necessary, however you can completely uninitialize it if desired. The clkPin will be reset to INPUT mode. </p>

<p>Reimplemented in <a class="el" href="class_microphone___p_d_m.html#a2a2bfaaef0dbc6aa07f1129c136b7425">Microphone_PDM</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>src/<a class="el" href="_microphone___p_d_m__n_r_f52_8h_source.html">Microphone_PDM_nRF52.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6
</small></address>
</body>
</html>
